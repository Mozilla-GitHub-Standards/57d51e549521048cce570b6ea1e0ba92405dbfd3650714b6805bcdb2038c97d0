var searchIndex = {};
searchIndex["fxa_email_queues"] = {"doc":"The queue-processing loop for fxa_email_service.","items":[],"paths":[]};
searchIndex["fxa_email_send"] = {"doc":"The main process for fxa-email-service. Starts a Rocket server that exposes one endpoint: `POST /send`","items":[],"paths":[]};
searchIndex["fxa_email_service"] = {"doc":"These are the developer docs for the Firefox Accounts email-sending service. For higher-level documentation, see the [readme].","items":[[0,"app_errors","fxa_email_service","Error definitions.",null,null],[3,"AppError","fxa_email_service::app_errors","The main error type returned by this service.",null,null],[4,"AppErrorKind","","The specific kind of error that can occur.",null,null],[13,"BadRequest","","400 Bad Request",0,null],[13,"NotFound","","404 Not Found",0,null],[13,"MethodNotAllowed","","405 Method Not Allowed",0,null],[13,"UnprocessableEntity","","422 Unprocessable Entity",0,null],[13,"TooManyRequests","","429 Too Many Requests,",0,null],[13,"InternalServerError","","500 Internal Server Error",0,null],[13,"RocketError","","",0,null],[13,"InvalidEmailParams","","An error for invalid email params in the /send handler.",0,null],[13,"MissingEmailParams","","An error for missing email params in the /send handler.",0,null],[13,"InvalidProvider","","An error for invalid provider names.",0,null],[13,"ProviderError","","An error for when we get an error from a provider.",0,null],[12,"_name","fxa_email_service::app_errors::AppErrorKind","",0,null],[12,"_description","","",0,null],[13,"EmailParsingError","fxa_email_service::app_errors","An error for when we have trouble parsing the email message.",0,null],[13,"BounceComplaintError","","An error for when a bounce violation happens.",0,null],[12,"_address","fxa_email_service::app_errors::AppErrorKind","",0,null],[12,"_bounce","","",0,null],[13,"BounceSoftError","fxa_email_service::app_errors","",0,null],[12,"_address","fxa_email_service::app_errors::AppErrorKind","",0,null],[12,"_bounce","","",0,null],[13,"BounceHardError","fxa_email_service::app_errors","",0,null],[12,"_address","fxa_email_service::app_errors::AppErrorKind","",0,null],[12,"_bounce","","",0,null],[13,"DbError","fxa_email_service::app_errors","An error for when an error happens on a request to the db.",0,null],[13,"NotImplemented","","An error for when we try to access functionality that is not implemented.",0,null],[5,"bad_request","","",null,{"o":{"n":"appresult"}}],[5,"not_found","","",null,{"o":{"n":"appresult"}}],[5,"method_not_allowed","","",null,{"o":{"n":"appresult"}}],[5,"unprocessable_entity","","",null,{"o":{"n":"appresult"}}],[5,"too_many_requests","","",null,{"o":{"n":"appresult"}}],[5,"internal_server_error","","",null,{"o":{"n":"appresult"}}],[6,"AppResult","","",null,null],[7,"static_rocket_catch_info_for_bad_request","","",null,null],[7,"static_rocket_catch_info_for_not_found","","",null,null],[7,"static_rocket_catch_info_for_method_not_allowed","","",null,null],[7,"static_rocket_catch_info_for_unprocessable_entity","","",null,null],[7,"static_rocket_catch_info_for_too_many_requests","","",null,null],[7,"static_rocket_catch_info_for_internal_server_error","","",null,null],[11,"fmt","","",1,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"json","","",1,{"i":[{"n":"self"}],"o":{"n":"value"}}],[11,"kind","","",1,{"i":[{"n":"self"}],"o":{"n":"apperrorkind"}}],[11,"cause","","",1,{"i":[{"n":"self"}],"o":{"g":["fail"],"n":"option"}}],[11,"backtrace","","",1,{"i":[{"n":"self"}],"o":{"g":["backtrace"],"n":"option"}}],[11,"fmt","","",1,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"clone","","",0,{"i":[{"n":"self"}],"o":{"n":"apperrorkind"}}],[11,"fmt","","",0,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"cause","","",0,{"i":[{"n":"self"}],"o":{"g":["fail"],"n":"option"}}],[11,"backtrace","","",0,{"i":[{"n":"self"}],"o":{"g":["backtrace"],"n":"option"}}],[11,"fmt","","",0,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",0,{"i":[{"n":"self"},{"n":"apperrorkind"}],"o":{"n":"bool"}}],[11,"ne","","",0,{"i":[{"n":"self"},{"n":"apperrorkind"}],"o":{"n":"bool"}}],[11,"http_status","","Return a rocket response Status to be rendered for an error",0,{"i":[{"n":"self"}],"o":{"n":"status"}}],[11,"errno","","",0,{"i":[{"n":"self"}],"o":{"g":["i32"],"n":"option"}}],[11,"additional_fields","","",0,{"i":[{"n":"self"}],"o":{"g":["string","value"],"n":"map"}}],[11,"from","","",1,{"i":[{"n":"apperrorkind"}],"o":{"n":"apperror"}}],[11,"from","","",1,{"i":[{"g":["apperrorkind"],"n":"context"}],"o":{"n":"apperror"}}],[11,"respond_to","","",1,{"i":[{"n":"self"},{"n":"request"}],"o":{"n":"result"}}],[0,"auth_db","fxa_email_service","Strongly-typed wrapper for a subset of [`fxa-auth-db-mysql`][authdb].",null,null],[3,"BounceRecord","fxa_email_service::auth_db","",null,null],[12,"address","","",2,null],[12,"bounce_type","","",2,null],[12,"bounce_subtype","","",2,null],[12,"created_at","","",2,null],[3,"DbClient","","",null,null],[4,"BounceType","","",null,null],[13,"Hard","","",3,null],[13,"Soft","","",3,null],[13,"Complaint","","",3,null],[4,"BounceSubtype","","",null,null],[13,"Unmapped","","",4,null],[13,"Undetermined","","",4,null],[13,"General","","",4,null],[13,"NoEmail","","",4,null],[13,"Suppressed","","",4,null],[13,"MailboxFull","","",4,null],[13,"MessageTooLarge","","",4,null],[13,"ContentRejected","","",4,null],[13,"AttachmentRejected","","",4,null],[13,"Abuse","","",4,null],[13,"AuthFailure","","",4,null],[13,"Fraud","","",4,null],[13,"NotSpam","","",4,null],[13,"Other","","",4,null],[13,"Virus","","",4,null],[8,"Db","","",null,null],[10,"get_bounces","","",5,{"i":[{"n":"self"},{"n":"str"}],"o":{"g":["vec"],"n":"appresult"}}],[11,"create_bounce","","",5,{"i":[{"n":"self"},{"n":"str"},{"n":"bouncetype"},{"n":"bouncesubtype"}],"o":{"n":"appresult"}}],[11,"clone","","",3,{"i":[{"n":"self"}],"o":{"n":"bouncetype"}}],[11,"fmt","","",3,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"hash","","",3,null],[11,"eq","","",3,{"i":[{"n":"self"},{"n":"bouncetype"}],"o":{"n":"bool"}}],[11,"deserialize","","",3,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"serialize","","",3,{"i":[{"n":"self"},{"n":"s"}],"o":{"n":"result"}}],[11,"clone","","",4,{"i":[{"n":"self"}],"o":{"n":"bouncesubtype"}}],[11,"fmt","","",4,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",4,{"i":[{"n":"self"},{"n":"bouncesubtype"}],"o":{"n":"bool"}}],[11,"deserialize","","",4,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"serialize","","",4,{"i":[{"n":"self"},{"n":"s"}],"o":{"n":"result"}}],[11,"clone","","",2,{"i":[{"n":"self"}],"o":{"n":"bouncerecord"}}],[11,"fmt","","",2,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",2,{"i":[{"n":"self"},{"n":"bouncerecord"}],"o":{"n":"bool"}}],[11,"ne","","",2,{"i":[{"n":"self"},{"n":"bouncerecord"}],"o":{"n":"bool"}}],[11,"from","fxa_email_service::app_errors","",1,{"i":[{"n":"urlerror"}],"o":{"n":"apperror"}}],[11,"from","","",1,{"i":[{"n":"requesterror"}],"o":{"n":"apperror"}}],[11,"fmt","fxa_email_service::auth_db","",6,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"new","","",6,{"i":[{"n":"settings"}],"o":{"n":"dbclient"}}],[11,"get_bounces","","",6,{"i":[{"n":"self"},{"n":"str"}],"o":{"g":["vec"],"n":"appresult"}}],[11,"create_bounce","","",6,{"i":[{"n":"self"},{"n":"str"},{"n":"bouncetype"},{"n":"bouncesubtype"}],"o":{"n":"appresult"}}],[0,"bounces","fxa_email_service","Bounce and complaint handling.",null,null],[3,"Bounces","fxa_email_service::bounces","Bounce/complaint registry.",null,null],[11,"fmt","","",7,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"new","","Instantiate the registry.",7,{"i":[{"n":"settings"},{"n":"d"}],"o":{"n":"bounces"}}],[11,"check","","Check an email address against bounce/complaint records from the registry.",7,{"i":[{"n":"self"},{"n":"str"}],"o":{"n":"appresult"}}],[11,"record_bounce","","Record a hard or soft bounce against an email address.",7,{"i":[{"n":"self"},{"n":"str"},{"n":"bouncetype"},{"n":"bouncesubtype"}],"o":{"n":"appresult"}}],[11,"record_complaint","","Record a complaint against an email address.",7,{"i":[{"n":"self"},{"n":"str"},{"g":["complaintfeedbacktype"],"n":"option"}],"o":{"n":"appresult"}}],[0,"duration","fxa_email_service","Maps duration strings to millisecond values.",null,null],[3,"DurationError","fxa_email_service::duration","The error type returned by `Duration::try_from`.",null,null],[12,"value","","",8,null],[3,"Duration","","A duration type represented in milliseconds, for compatibility with the rest of the FxA ecosystem.",null,null],[12,"0","","",9,null],[11,"fmt","","",8,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"description","","",8,{"i":[{"n":"self"}],"o":{"n":"str"}}],[11,"fmt","","",8,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"clone","","",9,{"i":[{"n":"self"}],"o":{"n":"duration"}}],[11,"fmt","","",9,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",9,{"o":{"n":"duration"}}],[11,"eq","","",9,{"i":[{"n":"self"},{"n":"duration"}],"o":{"n":"bool"}}],[11,"ne","","",9,{"i":[{"n":"self"},{"n":"duration"}],"o":{"n":"bool"}}],[11,"deserialize","","Validate and deserialize a duration from a string of the format `\"{number} {period}\"`, e.g. `\"1 hour\"` or `\"10 minutes\"`.",9,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"try_from","","",9,{"i":[{"n":"str"}],"o":{"g":["duration","durationerror"],"n":"result"}}],[0,"logging","fxa_email_service","Mozlog-compatible logging.",null,null],[3,"MozlogLogger","fxa_email_service::logging","Mozlog-compatible logger type.",null,null],[11,"new","","Construct a logger.",10,{"i":[{"n":"settings"}],"o":{"g":["mozloglogger","error"],"n":"result"}}],[11,"with_request","","Log a rocket request.",10,{"i":[{"n":"request"}],"o":{"g":["mozloglogger","error"],"n":"result"}}],[11,"deref","","",10,null],[0,"message_data","fxa_email_service","Temporary storage for message metadata.",null,null],[3,"MessageData","fxa_email_service::message_data","Message data store.",null,null],[3,"MessageDataError","","The error type returned by `MessageData` methods.",null,null],[11,"fmt","","",11,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"new","","Instantiate a storage client.",11,{"i":[{"n":"settings"}],"o":{"n":"messagedata"}}],[11,"consume","","Consume (read and delete) message metadata.",11,{"i":[{"n":"self"},{"n":"str"}],"o":{"g":["string","messagedataerror"],"n":"result"}}],[11,"set","","Store message metadata.",11,{"i":[{"n":"self"},{"n":"str"},{"n":"str"}],"o":{"g":["messagedataerror"],"n":"result"}}],[11,"fmt","","",12,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"description","","",12,{"i":[{"n":"self"}],"o":{"n":"str"}}],[11,"fmt","","",12,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","","",12,{"i":[{"n":"rediserror"}],"o":{"n":"messagedataerror"}}],[11,"from","","",12,{"i":[{"n":"invalidkeylength"}],"o":{"n":"messagedataerror"}}],[0,"providers","fxa_email_service","Generic abstraction of specific email providers.",null,null],[3,"Providers","fxa_email_service::providers","Generic provider wrapper.",null,null],[11,"from","fxa_email_service::app_errors","",1,{"i":[{"n":"sendgriderror"}],"o":{"n":"apperror"}}],[11,"from","","",1,{"i":[{"n":"utf8error"}],"o":{"n":"apperror"}}],[11,"from","","",1,{"i":[{"n":"string"}],"o":{"n":"self"}}],[11,"from","","",1,{"i":[{"n":"sendrawemailerror"}],"o":{"n":"apperror"}}],[6,"Headers","fxa_email_service::providers","Email headers.",null,null],[11,"new","","Instantiate the provider clients.",13,{"i":[{"n":"settings"}],"o":{"n":"providers"}}],[11,"send","","Send an email via an underlying provider.",13,null],[0,"queues","fxa_email_service","Queue-processing abstractions.",null,null],[3,"Queues","fxa_email_service::queues","Top-level queue wrapper.",null,null],[3,"Message","","Generic message type.",null,null],[12,"id","","",14,null],[12,"notification","","",14,null],[3,"QueueError","","The error type returned by queue methods.",null,null],[3,"QueueIds","","Queue \"ids\" (which is really just a generic name for SQS queue URLs).",null,null],[12,"bounce","","",15,null],[12,"complaint","","",15,null],[12,"delivery","","",15,null],[12,"notification","","",15,null],[0,"notification","","Generic queue notification types.",null,null],[3,"Notification","fxa_email_service::queues::notification","The root notification type.",null,null],[12,"notification_type","","",16,null],[12,"mail","","",16,null],[12,"metadata","","",16,null],[12,"bounce","","",16,null],[12,"complaint","","",16,null],[12,"delivery","","",16,null],[3,"Mail","","",null,null],[12,"timestamp","","",17,null],[12,"message_id","","",17,null],[12,"source","","",17,null],[12,"destination","","",17,null],[12,"headers","","",17,null],[3,"Bounce","","",null,null],[12,"bounce_type","","",18,null],[12,"bounce_subtype","","",18,null],[12,"bounced_recipients","","",18,null],[12,"timestamp","","",18,null],[3,"Complaint","","",null,null],[12,"complained_recipients","","",19,null],[12,"complaint_feedback_type","","",19,null],[12,"timestamp","","",19,null],[3,"Delivery","","",null,null],[12,"timestamp","","",20,null],[12,"recipients","","",20,null],[11,"fmt","","",16,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",16,{"o":{"n":"notification"}}],[11,"fmt","","",17,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",17,{"o":{"n":"mail"}}],[11,"fmt","","",18,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",19,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",20,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[0,"sqs","fxa_email_service::queues","Concrete trait implementations for AWS SQS queues.",null,null],[3,"Queue","fxa_email_service::queues::sqs","An AWS SQS queue type.",null,null],[0,"notification","","SQS queue notification types.",null,null],[3,"Notification","fxa_email_service::queues::sqs::notification","The root SQS queue notification type.",null,null],[12,"notification_type","","",21,null],[12,"mail","","",21,null],[12,"bounce","","",21,null],[12,"complaint","","",21,null],[12,"delivery","","",21,null],[3,"Mail","","",null,null],[3,"Header","","",null,null],[3,"Bounce","","",null,null],[12,"bounce_type","","",22,null],[12,"bounce_subtype","","",22,null],[12,"bounced_recipients","","",22,null],[12,"timestamp","","",22,null],[12,"feedback_id","","",22,null],[12,"remote_mta_ip","","",22,null],[12,"reporting_mta","","",22,null],[3,"BouncedRecipient","","",null,null],[12,"email_address","","",23,null],[12,"action","","",23,null],[12,"status","","",23,null],[12,"diagnostic_code","","",23,null],[3,"Complaint","","",null,null],[12,"complained_recipients","","",24,null],[12,"timestamp","","",24,null],[12,"feedback_id","","",24,null],[12,"user_agent","","",24,null],[12,"complaint_feedback_type","","",24,null],[12,"arrival_date","","",24,null],[3,"ComplainedRecipient","","",null,null],[12,"email_address","","",25,null],[3,"Delivery","","",null,null],[12,"timestamp","","",26,null],[12,"processing_time_millis","","",26,null],[12,"recipients","","",26,null],[12,"smtp_response","","",26,null],[12,"remote_mta_ip","","",26,null],[12,"reporting_mta","","",26,null],[4,"NotificationType","","",null,null],[13,"Bounce","","",27,null],[13,"Complaint","","",27,null],[13,"Delivery","","",27,null],[13,"Null","","",27,null],[4,"HeaderValue","","",null,null],[13,"Single","","",28,null],[13,"Multiple","","",28,null],[4,"BounceType","","",null,null],[13,"Undetermined","","",29,null],[13,"Permanent","","",29,null],[13,"Transient","","",29,null],[4,"BounceSubtype","","",null,null],[13,"Undetermined","","",30,null],[13,"General","","",30,null],[13,"NoEmail","","",30,null],[13,"Suppressed","","",30,null],[13,"MailboxFull","","",30,null],[13,"MessageTooLarge","","",30,null],[13,"ContentRejected","","",30,null],[13,"AttachmentRejected","","",30,null],[4,"ComplaintFeedbackType","","",null,null],[13,"Abuse","","",31,null],[13,"AuthFailure","","",31,null],[13,"Fraud","","",31,null],[13,"NotSpam","","",31,null],[13,"Other","","",31,null],[13,"Virus","","",31,null],[11,"fmt","","",21,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","fxa_email_service::queues::notification","",16,{"i":[{"n":"notification"}],"o":{"n":"genericnotification"}}],[11,"clone","fxa_email_service::queues::sqs::notification","",27,{"i":[{"n":"self"}],"o":{"n":"notificationtype"}}],[11,"fmt","","",27,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",27,{"i":[{"n":"self"},{"n":"notificationtype"}],"o":{"n":"bool"}}],[11,"fmt","","",27,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",27,{"o":{"n":"notificationtype"}}],[11,"deserialize","","",27,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"serialize","","",27,{"i":[{"n":"self"},{"n":"s"}],"o":{"n":"result"}}],[11,"fmt","","",32,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","fxa_email_service::queues::notification","",17,{"i":[{"n":"mail"}],"o":{"n":"genericmail"}}],[11,"fmt","fxa_email_service::queues::sqs::notification","",33,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",28,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",22,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","fxa_email_service::queues::notification","",18,{"i":[{"n":"bounce"}],"o":{"n":"genericbounce"}}],[11,"clone","fxa_email_service::queues::sqs::notification","",29,{"i":[{"n":"self"}],"o":{"n":"bouncetype"}}],[11,"fmt","","",29,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",29,{"i":[{"n":"self"},{"n":"bouncetype"}],"o":{"n":"bool"}}],[11,"from","fxa_email_service::auth_db","",3,{"i":[{"n":"bouncetype"}],"o":{"n":"authdbbouncetype"}}],[11,"deserialize","fxa_email_service::queues::sqs::notification","",29,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",30,{"i":[{"n":"self"}],"o":{"n":"bouncesubtype"}}],[11,"fmt","","",30,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",30,{"i":[{"n":"self"},{"n":"bouncesubtype"}],"o":{"n":"bool"}}],[11,"from","fxa_email_service::auth_db","",4,{"i":[{"n":"bouncesubtype"}],"o":{"n":"authdbbouncesubtype"}}],[11,"deserialize","fxa_email_service::queues::sqs::notification","",30,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"fmt","","",23,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",24,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","fxa_email_service::queues::notification","",19,{"i":[{"n":"complaint"}],"o":{"n":"genericcomplaint"}}],[11,"fmt","fxa_email_service::queues::sqs::notification","",25,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"clone","","",31,{"i":[{"n":"self"}],"o":{"n":"complaintfeedbacktype"}}],[11,"fmt","","",31,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"eq","","",31,{"i":[{"n":"self"},{"n":"complaintfeedbacktype"}],"o":{"n":"bool"}}],[11,"from","fxa_email_service::auth_db","",4,{"i":[{"n":"complaintfeedbacktype"}],"o":{"n":"authdbbouncesubtype"}}],[11,"deserialize","fxa_email_service::queues::sqs::notification","",31,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"serialize","","",31,{"i":[{"n":"self"},{"n":"s"}],"o":{"n":"result"}}],[11,"fmt","","",26,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","fxa_email_service::queues::notification","",20,{"i":[{"n":"delivery"}],"o":{"n":"genericdelivery"}}],[11,"new","fxa_email_service::queues::sqs","",34,{"i":[{"n":"string"},{"n":"settings"}],"o":{"n":"queue"}}],[11,"receive","","",34,{"i":[{"n":"self"}],"o":{"g":["future"],"n":"box"}}],[11,"delete","","",34,{"i":[{"n":"self"},{"n":"message"}],"o":{"g":["future"],"n":"box"}}],[11,"send","","",34,{"i":[{"n":"self"},{"n":"notification"}],"o":{"g":["future"],"n":"box"}}],[11,"fmt","","",34,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","fxa_email_service::queues","",35,{"i":[{"n":"receivemessageerror"}],"o":{"n":"queueerror"}}],[11,"from","","",35,{"i":[{"n":"sendmessageerror"}],"o":{"n":"queueerror"}}],[11,"from","","",35,{"i":[{"n":"deletemessageerror"}],"o":{"n":"queueerror"}}],[11,"from","","",35,{"i":[{"n":"jsonerror"}],"o":{"n":"queueerror"}}],[8,"Incoming","","An incoming bounce/complaint queue.",null,null],[10,"receive","","",36,{"i":[{"n":"self"}],"o":{"g":["future"],"n":"box"}}],[10,"delete","","",36,{"i":[{"n":"self"},{"n":"message"}],"o":{"g":["future"],"n":"box"}}],[8,"Outgoing","","An outgoing notification queue.",null,null],[10,"send","","",37,{"i":[{"n":"self"},{"n":"notification"}],"o":{"g":["future"],"n":"box"}}],[8,"Factory","","A queue factory.",null,null],[10,"new","","",38,{"i":[{"n":"string"},{"n":"settings"}],"o":{"n":"self"}}],[11,"fmt","","",39,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",14,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",14,{"o":{"n":"message"}}],[11,"fmt","","",35,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"fmt","","",15,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"new","","Instantiate the queue clients.",39,{"i":[{"n":"queueids"},{"n":"settings"}],"o":{"n":"queues"}}],[11,"process","","Poll all queues and handle any notifications.",39,{"i":[{"n":"self"}],"o":{"g":["future"],"n":"box"}}],[11,"new","","",35,{"i":[{"n":"string"}],"o":{"n":"queueerror"}}],[11,"description","","",35,{"i":[{"n":"self"}],"o":{"n":"str"}}],[11,"fmt","","",35,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"from","","",35,{"i":[{"n":"apperror"}],"o":{"n":"queueerror"}}],[0,"send","fxa_email_service","Route handler for the `POST /send` endpoint.",null,null],[3,"EmailAddress","fxa_email_service::send","",null,null],[12,"0","","",40,null],[7,"static_rocket_route_info_for_handler","","Rocket code generated static route information structure.",null,null],[11,"clone","","",40,{"i":[{"n":"self"}],"o":{"n":"emailaddress"}}],[11,"fmt","","",40,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",40,{"o":{"n":"emailaddress"}}],[11,"eq","","",40,{"i":[{"n":"self"},{"n":"emailaddress"}],"o":{"n":"bool"}}],[11,"ne","","",40,{"i":[{"n":"self"},{"n":"emailaddress"}],"o":{"n":"bool"}}],[11,"deserialize","","",40,{"i":[{"n":"d"}],"o":{"n":"result"}}],[0,"serialize","fxa_email_service","Serialization functions for use with serde's `serialize_with` attribute.",null,null],[5,"hidden_or_not_set","fxa_email_service::serialize","Serialize an `Option` containing sensitive data to either of the strings `\"[hidden]\"` or `\"[not set]\"`.",null,{"i":[{"n":"option"},{"n":"s"}],"o":{"n":"result"}}],[0,"settings","fxa_email_service","Application settings.",null,null],[3,"AwsAccess","fxa_email_service::settings","AWS access key type.",null,null],[12,"0","","",41,null],[3,"AwsRegion","","AWS region type.",null,null],[12,"0","","",42,null],[3,"AwsSecret","","AWS secret key type.",null,null],[12,"0","","",43,null],[3,"BaseUri","","Base URI type.",null,null],[12,"0","","",44,null],[3,"Host","","Host name or IP address type.",null,null],[12,"0","","",45,null],[3,"Logging","","Logging format type.",null,null],[12,"0","","",46,null],[3,"Provider","","Email provider type.",null,null],[12,"0","","",47,null],[3,"SenderName","","Sender name type.",null,null],[12,"0","","",48,null],[3,"SendgridApiKey","","Sendgrid API key type.",null,null],[12,"0","","",49,null],[3,"SqsUrl","","AWS SQS queue URL type.",null,null],[12,"0","","",50,null],[3,"AuthDb","","Settings related to `fxa-auth-db-mysql`, which is used to store bounce, complaint and delivery notifications.",null,null],[12,"baseuri","","The base URI for the `fxa-auth-db-mysql` instance.",51,null],[3,"Aws","","Settings for AWS.",null,null],[12,"keys","","Controls the access and secret keys for connecting to AWS.",52,null],[12,"region","","The AWS region for SES and SQS.",52,null],[12,"sqsurls","","URLs for SQS queues.",52,null],[3,"AwsKeys","","AWS keys. These are sensitive data and will not be logged.",null,null],[12,"access","","The AWS access key.",53,null],[12,"secret","","The AWS secret key.",53,null],[3,"BounceLimit","","A definition object for a bounce/complaint limit.",null,null],[12,"period","","The time period within which to limit bounces/complaints.",54,null],[12,"limit","","The maximum number of bounces/complaints to permit within the specified time period.",54,null],[3,"BounceLimits","","Controls the thresholds and behaviour for bounce and complaint reports.",null,null],[12,"enabled","","Controls whether to enable bounce limits. If set to `false`, bounce and complaint records in the database are ignored.",55,null],[12,"complaint","","Limits for complaints/spam reports.",55,null],[12,"hard","","Limits for hard (permanent) bounces.",55,null],[12,"soft","","Limits for soft (transient) bounces.",55,null],[3,"Redis","","Settings for Redis.",null,null],[12,"host","","The host name or IP address.",56,null],[12,"port","","TCP port number.",56,null],[3,"Sender","","Controls the name and email address that are used for the `From` and `Sender` email headers.",null,null],[12,"address","","The email address.",57,null],[12,"name","","The name (may contain spaces).",57,null],[3,"Sendgrid","","Settings for Sendgrid.",null,null],[12,"key","","The API key. This is sensitive data and will not be logged.",58,null],[3,"SqsUrls","","URLs for SQS queues.",null,null],[12,"bounce","","The incoming bounce queue URL.",59,null],[12,"complaint","","The incoming complaint queue URL.",59,null],[12,"delivery","","The incoming delivery queue URL.",59,null],[12,"notification","","The outgoing notification queue URL, used to forward notifications for additional processing by callers.",59,null],[3,"Settings","","The root settings object.",null,null],[12,"authdb","","Settings related to `fxa-auth-db-mysql`, which is used to store bounce, complaint and delivery notifications.",60,null],[12,"aws","","Settings for AWS, including region, access keys and URLs for SQS queues.",60,null],[12,"bouncelimits","","Controls the thresholds and behaviour for bounce and complaint reports. If bounce limits are enabled, emails sent to offending addresses will fail with a `429` error.",60,null],[12,"hmackey","","The HMAC key to use internally for hashing message ids. This is sensitive data and will not be logged.",60,null],[12,"logging","","The logging format to use, can be `\"mozlog\"`, `\"pretty\"` or `\"null\"`.",60,null],[12,"provider","","The default email provider to use, can be `\"ses\"`, `\"sendgrid\"` or `\"mock\"`. Note that this setting can be overridden on a per-request basis.",60,null],[12,"redis","","Settings for Redis, which is used to store metadata associated with a message.",60,null],[12,"sender","","Controls the name and email address that are used for the `From` and `Sender` email headers.",60,null],[12,"sendgrid","","Settings for Sendgrid.",60,null],[11,"clone","","",41,{"i":[{"n":"self"}],"o":{"n":"awsaccess"}}],[11,"fmt","","",41,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",41,{"o":{"n":"awsaccess"}}],[11,"eq","","",41,{"i":[{"n":"self"},{"n":"awsaccess"}],"o":{"n":"bool"}}],[11,"ne","","",41,{"i":[{"n":"self"},{"n":"awsaccess"}],"o":{"n":"bool"}}],[11,"fmt","","",41,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",41,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",42,{"i":[{"n":"self"}],"o":{"n":"awsregion"}}],[11,"fmt","","",42,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",42,{"o":{"n":"awsregion"}}],[11,"eq","","",42,{"i":[{"n":"self"},{"n":"awsregion"}],"o":{"n":"bool"}}],[11,"ne","","",42,{"i":[{"n":"self"},{"n":"awsregion"}],"o":{"n":"bool"}}],[11,"fmt","","",42,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",42,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",43,{"i":[{"n":"self"}],"o":{"n":"awssecret"}}],[11,"fmt","","",43,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",43,{"o":{"n":"awssecret"}}],[11,"eq","","",43,{"i":[{"n":"self"},{"n":"awssecret"}],"o":{"n":"bool"}}],[11,"ne","","",43,{"i":[{"n":"self"},{"n":"awssecret"}],"o":{"n":"bool"}}],[11,"fmt","","",43,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",43,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",44,{"i":[{"n":"self"}],"o":{"n":"baseuri"}}],[11,"fmt","","",44,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",44,{"o":{"n":"baseuri"}}],[11,"eq","","",44,{"i":[{"n":"self"},{"n":"baseuri"}],"o":{"n":"bool"}}],[11,"ne","","",44,{"i":[{"n":"self"},{"n":"baseuri"}],"o":{"n":"bool"}}],[11,"fmt","","",44,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",44,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",45,{"i":[{"n":"self"}],"o":{"n":"host"}}],[11,"fmt","","",45,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",45,{"o":{"n":"host"}}],[11,"eq","","",45,{"i":[{"n":"self"},{"n":"host"}],"o":{"n":"bool"}}],[11,"ne","","",45,{"i":[{"n":"self"},{"n":"host"}],"o":{"n":"bool"}}],[11,"fmt","","",45,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",45,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",46,{"i":[{"n":"self"}],"o":{"n":"logging"}}],[11,"fmt","","",46,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",46,{"o":{"n":"logging"}}],[11,"eq","","",46,{"i":[{"n":"self"},{"n":"logging"}],"o":{"n":"bool"}}],[11,"ne","","",46,{"i":[{"n":"self"},{"n":"logging"}],"o":{"n":"bool"}}],[11,"fmt","","",46,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",46,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",47,{"i":[{"n":"self"}],"o":{"n":"provider"}}],[11,"fmt","","",47,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",47,{"o":{"n":"provider"}}],[11,"eq","","",47,{"i":[{"n":"self"},{"n":"provider"}],"o":{"n":"bool"}}],[11,"ne","","",47,{"i":[{"n":"self"},{"n":"provider"}],"o":{"n":"bool"}}],[11,"fmt","","",47,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",47,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",48,{"i":[{"n":"self"}],"o":{"n":"sendername"}}],[11,"fmt","","",48,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",48,{"o":{"n":"sendername"}}],[11,"eq","","",48,{"i":[{"n":"self"},{"n":"sendername"}],"o":{"n":"bool"}}],[11,"ne","","",48,{"i":[{"n":"self"},{"n":"sendername"}],"o":{"n":"bool"}}],[11,"fmt","","",48,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",48,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",49,{"i":[{"n":"self"}],"o":{"n":"sendgridapikey"}}],[11,"fmt","","",49,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",49,{"o":{"n":"sendgridapikey"}}],[11,"eq","","",49,{"i":[{"n":"self"},{"n":"sendgridapikey"}],"o":{"n":"bool"}}],[11,"ne","","",49,{"i":[{"n":"self"},{"n":"sendgridapikey"}],"o":{"n":"bool"}}],[11,"fmt","","",49,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",49,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"clone","","",50,{"i":[{"n":"self"}],"o":{"n":"sqsurl"}}],[11,"fmt","","",50,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",50,{"o":{"n":"sqsurl"}}],[11,"eq","","",50,{"i":[{"n":"self"},{"n":"sqsurl"}],"o":{"n":"bool"}}],[11,"ne","","",50,{"i":[{"n":"self"},{"n":"sqsurl"}],"o":{"n":"bool"}}],[11,"fmt","","",50,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"deserialize","","",50,{"i":[{"n":"d"}],"o":{"n":"result"}}],[11,"fmt","","",51,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",51,{"o":{"n":"authdb"}}],[11,"fmt","","",52,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",52,{"o":{"n":"aws"}}],[11,"fmt","","",53,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",53,{"o":{"n":"awskeys"}}],[11,"clone","","",54,{"i":[{"n":"self"}],"o":{"n":"bouncelimit"}}],[11,"fmt","","",54,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",54,{"o":{"n":"bouncelimit"}}],[11,"clone","","",55,{"i":[{"n":"self"}],"o":{"n":"bouncelimits"}}],[11,"fmt","","",55,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",55,{"o":{"n":"bouncelimits"}}],[11,"fmt","","",56,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",56,{"o":{"n":"redis"}}],[11,"clone","","",57,{"i":[{"n":"self"}],"o":{"n":"sender"}}],[11,"fmt","","",57,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",57,{"o":{"n":"sender"}}],[11,"fmt","","",58,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",58,{"o":{"n":"sendgrid"}}],[11,"fmt","","",59,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",59,{"o":{"n":"sqsurls"}}],[11,"fmt","","",60,{"i":[{"n":"self"},{"n":"formatter"}],"o":{"n":"result"}}],[11,"default","","",60,{"o":{"n":"settings"}}],[11,"new","","Construct a `Settings` instance, populating it with data from the file system and local environment.",60,{"o":{"g":["configerror"],"n":"result"}}],[0,"validate","fxa_email_service","Common validation logic.",null,null],[5,"aws_region","fxa_email_service::validate","Validate an AWS region.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"aws_access","","Validate an AWS access key.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"aws_secret","","Validate an AWS secret key.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"base_uri","","Validate a base URI.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"email_address","","Validate an email address.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"host","","Validate a host name or IP address.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"logging","","Validate logging level.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"provider","","Validate an email provider.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"sender_name","","Validate a sender name.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"sendgrid_api_key","","Validate a Sendgrid API key.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[5,"sqs_url","","Validate an AWS SQS URL.",null,{"i":[{"n":"str"}],"o":{"n":"bool"}}],[11,"serialize","fxa_email_service::settings","",60,{"i":[{"n":"self"},{"n":"record"},{"n":"str"},{"n":"serializer"}],"o":{"n":"result"}}]],"paths":[[4,"AppErrorKind"],[3,"AppError"],[3,"BounceRecord"],[4,"BounceType"],[4,"BounceSubtype"],[8,"Db"],[3,"DbClient"],[3,"Bounces"],[3,"DurationError"],[3,"Duration"],[3,"MozlogLogger"],[3,"MessageData"],[3,"MessageDataError"],[3,"Providers"],[3,"Message"],[3,"QueueIds"],[3,"Notification"],[3,"Mail"],[3,"Bounce"],[3,"Complaint"],[3,"Delivery"],[3,"Notification"],[3,"Bounce"],[3,"BouncedRecipient"],[3,"Complaint"],[3,"ComplainedRecipient"],[3,"Delivery"],[4,"NotificationType"],[4,"HeaderValue"],[4,"BounceType"],[4,"BounceSubtype"],[4,"ComplaintFeedbackType"],[3,"Mail"],[3,"Header"],[3,"Queue"],[3,"QueueError"],[8,"Incoming"],[8,"Outgoing"],[8,"Factory"],[3,"Queues"],[3,"EmailAddress"],[3,"AwsAccess"],[3,"AwsRegion"],[3,"AwsSecret"],[3,"BaseUri"],[3,"Host"],[3,"Logging"],[3,"Provider"],[3,"SenderName"],[3,"SendgridApiKey"],[3,"SqsUrl"],[3,"AuthDb"],[3,"Aws"],[3,"AwsKeys"],[3,"BounceLimit"],[3,"BounceLimits"],[3,"Redis"],[3,"Sender"],[3,"Sendgrid"],[3,"SqsUrls"],[3,"Settings"]]};
initSearch(searchIndex);
